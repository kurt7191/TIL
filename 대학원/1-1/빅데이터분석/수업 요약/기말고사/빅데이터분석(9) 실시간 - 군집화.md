# 빅데이터 분석(9) 실시간 - 군집화



### 계층적 군집화



계층적 군집화가 군집을 만들어가는 과정



1. 유사성 행렬을 만듬
   - 거리행렬이라고 할 수 있음.(n x n 개의 거리값)
   - 거리행렬 중에서 거리가 제일 짧은 것 
2. 거리 행렬에서 거리가 제일 짧은 것을 통합시킴, 그럼 n-1행렬이 됨
   - 그 이후 n-1 중에서 거리가 제일 짧은 것을 또 찾음 그럼 다시 n-1



=> 계층적 군집화는 먼저 유사성행렬(거리행렬) 을 만든 이후에 각각의 원소의 거리를 구하고,

가장 거리가 가까운 원소끼리는 통합한다. 그렇게 되면 본래 n * n 의 크기를 가지고 있던 행렬이, 두 개의 원소가 하나가 됨으로써, n-1 * n-1 개의 행렬이 된다. n-1 개에서 또 다시 거리가 가장 짧은 원소끼리는 통합을 하게 되면

n-2 개의 행렬이 완성됨 이를 계속 반복





<hr>





군집 사이의 거리 측정 방법은?



- 단일 연결 -> 앞선 계층적 군집화 방식의 방법
  - 가장 가까운 구성원 사이의 거리로 군집간의 거리 정의
  - 예시로 5개의 원소가 있으면 5x5 의 거리행렬 만듬(유사행렬)
  - 이 행렬 중에서 가장 거리가 짧은 것을 고름, ex) (1,3) 나머지 원소들 거리 구하기
  - n-1 개의 행렬로 바뀜, 그리고 다시 실행
- 완전 연결 -> 가장 거리가 먼 원소끼리 통합 그리고 작은 걸로 그 이후에 묶음
  - 거리가 가장 먼 구성원들 사이의 거리로 결정
  - 묶을 때는, 거리가 가장 먼걸로 처음에 시작하고, 거리가 작은 걸로 그 이후에 묶는다.
- 중심점 거리
  - 두 군집의 중심점 사이의 거리로 결정





issue

계층적 군집화는 단일 연결 방식이든, 완전 연결 방식이든 중심적 거리 방식이든 유사성 행렬이 계속 해서 줄어든다. 그렇다면 

1개로 묶일 때까지 계속 이어지는데, 군집을 어디서 끊을것이냐?





